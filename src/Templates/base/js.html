{% load static %}
<!-- Carregando jQuery sem o atributo 'integrity' -->
<script src="https://code.jquery.com/jquery-3.6.4.min.js" crossorigin="anonymous"></script>

<!-- Bootstrap e outros scripts que dependem de jQuery -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-confirm/3.3.2/jquery-confirm.min.js"></script>

<!-- Stripe JS -->
<script src="https://js.stripe.com/v3/"></script>

<!-- Modular JS Files -->
<script src="{% static 'js/stripe/stripe-payment.js' %}"></script>
<script src="{% static 'js/ecommerce/search.js' %}"></script>
<script src="{% static 'js/ecommerce/contact.js' %}"></script>
<script src="{% static 'js/ecommerce/cart.js' %}"></script>
<script src="{% static 'js/csrf.ajax.js' %}"></script>

<!-- TEMA DARK -->  
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script>
    $(document).ready(function () {
        function removerActiveClassTheme() {
            $('.themes-list li a').removeClass('active');
        }

        $('.themes-list li').on('click', function () {
            let linkElement = $(this).find('a');
            let theme = linkElement.data('theme');
            $('html').attr('data-bs-theme', theme);
            removerActiveClassTheme();
            linkElement.addClass('active');
        });
    });
</script>


<script>
    // Seleciona todos os itens do menu de temas
    const themeLinks = document.querySelectorAll('.dropdown-item');
    
    themeLinks.forEach(link => {
        link.addEventListener('click', (e) => {
            const selectedTheme = e.target.getAttribute('data-theme');
            updateTheme(selectedTheme);
        });
    });
  
    // Função para atualizar o ícone e o nome do tema
    function updateTheme(theme) {
        const icon = document.getElementById('current-icon');
        const themeName = document.getElementById('current-theme-name');
  
        if (theme === 'light') {
            icon.classList.remove('bi-moon-stars-fill', 'bi-circle-half');
            icon.classList.add('bi-brightness-high');
            themeName.textContent = 'Claro';
        } else if (theme === 'dark') {
            icon.classList.remove('bi-brightness-high', 'bi-circle-half');
            icon.classList.add('bi-moon-stars-fill');
            themeName.textContent = 'Escuro';
        } else if (theme === 'auto') {
            icon.classList.remove('bi-brightness-high', 'bi-moon-stars-fill');
            icon.classList.add('bi-circle-half');
            themeName.textContent = 'Auto';
        }
    }
  </script>

<!-- Compare this snippet from src/Templates/base/js.html: -->
